---
permalink: protect-nsp/back_up_individual_netapp_supported_plugins_resources.html 
sidebar: sidebar 
keywords: backup, NetApp supported plug-ins, NetApp supported plug-ins, MongoDB, ORASCPM, Oracle Applications, SAP ASE, SAP MaxDB, Storage plug-in 
summary: 'どのリソース グループにも含まれていない、NetAppがサポートしているプラグイン リソースは、[Resources]ページから個別にバックアップすることができます。リソースのバックアップはオンデマンドで実行できるほか、リソースにポリシーが適用されてスケジュールが設定されていれば、スケジュールに従って自動的にバックアップが行われます。' 
---
= NetAppがサポートしている個々のプラグイン リソースのバックアップ
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
どのリソース グループにも含まれていない、NetAppがサポートしているプラグイン リソースは、[Resources]ページから個別にバックアップすることができます。リソースのバックアップはオンデマンドで実行できるほか、リソースにポリシーが適用されてスケジュールが設定されていれば、スケジュールに従って自動的にバックアップが行われます。

.開始する前に
* バックアップ ポリシーを作成しておく必要があります。
* セカンダリ ストレージとのSnapMirror関係を持つリソースをバックアップする場合は、ストレージ ユーザーに割り当てられたONTAPロールに「`snapmirror all`」権限が含まれている必要があります。ただし、「`vsadmin`」ロールを使用している場合は、「`snapmirror all`」権限は必要ありません。


[role="tabbed-block"]
====
.SnapCenter UI
--
.手順
. 左側のナビゲーション ペインで [*リソース*] をクリックし、リストから適切なプラグインを選択します。
. [リソース] ページで、リソース タイプに基づいて [*表示*] ドロップダウン リストからリソースをフィルターします。
+
クリックimage:../media/filter_icon.gif["フィルターアイコン"]をクリックし、ホスト名とリソース タイプを選択してリソースをフィルターします。そのあとにimage:../media/filter_icon.gif["フィルターアイコン"]をクリックすると、フィルタ ペインが閉じます。

. バックアップするリソースをクリックします。
. [リソース] ページで、カスタム名を使用する場合は、[*スナップショット コピーにカスタム名形式を使用する*] チェック ボックスをオンにし、スナップショット名のカスタム名形式を入力します。
+
たとえば、_customtext_policy_hostname_ または _resource_hostname_ です。デフォルトでは、Snapshotの名前の後ろにタイムスタンプが付加されます。

. [Application Settings]ページで、次の操作を実行します。
+
.. 追加のバックアップ オプションを設定するには、[*バックアップ*] 矢印をクリックします。
+
必要に応じて、整合グループのバックアップを有効にし、次の操作を実行します。

+
|===
| フィールド | 操作 


 a| 
Afford time to wait for Consistency Group Snapshot operation to complete
 a| 
Snapshot処理が完了するまでの待機時間として、[Urgent]、[Medium]、または[Relaxed]のいずれかを選択します。

[Urgent]は5秒、[Medium]は7秒、[Relaxed]は20秒です。



 a| 
Disable WAFL Sync
 a| 
WAFL整合ポイントを強制しない場合はオンにします。

|===
+
image:../media/application_settings.gif["アプリケーション設定ページ"]

.. *スクリプト*矢印をクリックして、静止、スナップショット、および静止解除操作の事前および事後コマンドを実行します。バックアップ処理を終了する前のプリコマンドも実行できます。
+
プリスクリプトとポストスクリプトはSnapCenter Serverで実行されます。

.. *カスタム構成*矢印をクリックし、このリソースを使用するすべてのジョブに必要なカスタム値のペアを入力します。
.. *スナップショット コピー ツール* の矢印をクリックして、スナップショットを作成するツールを選択します。
+
|===
| あなたが望むなら... | 操作 


 a| 
SnapCenterでストレージ レベルのSnapshotを作成する
 a| 
* ファイル システムの整合性のないSnapCenter * を選択します。



 a| 
SnapCenterでPlug-in for Windowsを使用してファイルシステムを整合性のある状態にしてからSnapshotを作成する
 a| 
* ファイル システムの一貫性を備えたSnapCenter * を選択します。



 a| 
Snapshotを作成するためのコマンドを入力する
 a| 
*その他*を選択し、スナップショットを作成するコマンドを入力します。

|===


. [Policies]ページで、次の手順を実行します。
+
.. ドロップダウン リストから1つ以上のポリシーを選択します。
+

NOTE: をクリックしimage:../media/add_policy_from_resourcegroup.gif["アイコンを追加"]てポリシーを作成することもできます。 

+
[Configure schedules for selected policies]セクションに、選択したポリシーがリストされます。

.. スケジュールを設定するポリシーの[Configure Schedules]列で、image:../media/add_policy_from_resourcegroup.gif["アイコンを追加"]をクリックします。
.. ポリシー _policy_name_ のスケジュールの追加ダイアログ ボックスでスケジュールを構成し、[*OK*] をクリックします。
+
ここで、_policy_name_ は選択したポリシーの名前です。

+
設定したスケジュールが[Applied Schedules]列にリストされます。



. 通知ページの *電子メール設定* ドロップダウン リストから、電子メールを送信するシナリオを選択します。
+
また、送信者と受信者のEメール アドレス、およびEメールの件名を指定する必要があります。SMTP は、*設定* > *グローバル設定* でも設定する必要があります。

. 概要を確認し、[完了] をクリックします。
+
リソースのトポロジ ページが表示されます。

. *今すぐバックアップ*をクリックします。
. [Backup]ページで次の手順を実行します。
+
.. リソースに複数のポリシーを適用している場合は、[*ポリシー*] ドロップダウン リストから、バックアップに使用するポリシーを選択します。
+
オンデマンド バックアップ用に選択したポリシーがバックアップ スケジュールに関連付けられている場合、オンデマンド バックアップは、スケジュール タイプの保持設定に基づいて保持されます。

.. *バックアップ*をクリックします。


. *モニター* > *ジョブ* をクリックして、操作の進行状況を監視します。


--
.PowerShellコマンドレット
--
.手順
. Open-SmConnectionコマンドレットを使用して、指定のユーザでSnapCenter Serverとの接続セッションを開始します。
+
[listing]
----
Open-smconnection  -SMSbaseurl  https:\\snapctr.demo.netapp.com:8146\
----
+
ユーザ名とパスワードのプロンプトが表示されます。

. Add-SmResourcesコマンドレットを使用して、リソースを追加します。
+
リソースを追加する例を次に示します。

+
[listing]
----
Add-SmResource -HostName 'scc55.sccore.test.com' -PluginCode 'DummyPlugin' -ResourceName QDBVOL1 -ResourceType Database -StorageFootPrint ( @{"VolumeName"="qtree_vol1_scc55_sccore_test_com";"QTREENAME"="qtreeVol1";"StorageSystem"="vserver_scauto_primary"}) -Instance QTREE1
----
. Add-SmPolicyコマンドレットを使用して、バックアップ ポリシーを作成します。
+
新しいバックアップ ポリシーを作成する例を次に示します。

+
[listing]
----
Add-SMPolicy -PolicyName 'test2' -PolicyType 'Backup' -PluginPolicyType DummyPlugin  -description 'testPolicy'
----
. Add-SmResourceGroupコマンドレットを使用して、SnapCenterに新しいリソース グループを追加します。
+
この例では、ポリシーとリソースを指定して新しいリソース グループを作成しています。

+
[listing]
----
Add-SmResourceGroup -ResourceGroupName 'Verify_Backup_on_Multiple_Qtree_different_vserver_windows' -Resources @(@{"Host"="scc55.sccore.test.com";"Uid"="QTREE2";"PluginName"="DummyPlugin"},@{"Host"="scc55.sccore.test.com";"Uid"="QTREE";"PluginName"="DummyPlugin"}) -Policies test2 -plugincode 'DummyPlugin' -usesnapcenterwithoutfilesystemconsistency
----
. New-SmBackupコマンドレットを使用して、新しいバックアップ ジョブを開始します。
+
[listing]
----
New-SMBackup -DatasetName Verify_Backup_on_Multiple_Qtree_different_vserver_windows -Policy test2
----
. Get-SmBackupReportコマンドレットを使用して、バックアップ ジョブのステータスを表示します。
+
この例では、指定した日に実行されたすべてのジョブの概要レポートを表示しています。

+
[listing]
----
Get-SmBackupReport -JobId 149

BackedUpObjects           : {QTREE2, QTREE}
FailedObjects             : {}
IsScheduled               : False
HasMetadata               : False
SmBackupId                : 1
SmJobId                   : 149
StartDateTime             : 1/15/2024 1:35:17 AM
EndDateTime               : 1/15/2024 1:36:19 AM
Duration                  : 00:01:02.4265750
CreatedDateTime           : 1/15/2024 1:35:51 AM
Status                    : Completed
ProtectionGroupName       : Verify_Backup_on_Multiple_Qtree_different_vserver_windows
SmProtectionGroupId       : 1
PolicyName                : test2
SmPolicyId                : 4
BackupName                : Verify_Backup_on_Multiple_Qtree_different_vserver_windows_scc55_01-15-2024_01.35.17.4467
VerificationStatus        : NotApplicable
VerificationStatuses      :
SmJobError                :
BackupType                : SCC_BACKUP
CatalogingStatus          : NotApplicable
CatalogingStatuses        :
ReportDataCreatedDateTime :
PluginCode                : SCC
PluginName                : DummyPlugin
PluginDisplayName         : DummyPlugin
JobTypeId                 :
JobHost                   : scc55.sccore.test.com
----


--
====