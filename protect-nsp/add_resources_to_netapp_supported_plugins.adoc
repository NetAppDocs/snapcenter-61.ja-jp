---
permalink: protect-nsp/add_resources_to_netapp_supported_plugins.html 
sidebar: sidebar 
keywords: NetApp supported plug-in, resources, NetApp supported plug-ins, MongoDB, ORASCPM, Oracle Applications, SAP ASE, SAP MaxDB, Storage plug-in 
summary: バックアップまたはクローンを作成するリソースを追加する必要があります。環境によっては、バックアップまたはクローンを作成するデータベース インスタンスやそのコレクションもリソースに含まれます。 
---
= NetAppがサポートしているプラグインへのリソースの追加
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
バックアップまたはクローンを作成するリソースを追加する必要があります。環境によっては、バックアップまたはクローンを作成するデータベース インスタンスやそのコレクションもリソースに含まれます。

.開始する前に
* SnapCenter Serverのインストール、ホストの追加、ストレージ システム接続の作成、クレデンシャルの追加などのタスクを完了しておく必要があります。
* SnapCenter Serverにプラグインをアップロードしておく必要があります。


.手順
. 左側のナビゲーション ペインで [*リソース*] を選択し、リストから適切なプラグインを選択します。
. [リソース] ページで、[リソースの追加] を選択します。
. [Provide Resource Details]ページで、次の操作を実行します。
+
|===
| フィールド | 操作 


 a| 
Name
 a| 
リソースの名前を入力します。



 a| 
ホスト名
 a| 
ホストを選択します。



 a| 
タイプ
 a| 
タイプを選択します。タイプは、プラグイン定義ファイルにあるユーザ定義のタイプです。たとえば、データベースやインスタンスなどになります。

選択したタイプに親がある場合は、親の詳細を入力します。たとえば、タイプがデータベースでその親がインスタンスの場合、インスタンスの詳細を入力します。



 a| 
資格情報名
 a| 
クレデンシャルを選択するか、新しいクレデンシャルを作成します。



 a| 
Mount Paths
 a| 
リソースのマウント先のマウント パスを入力します。これは、Windowsホストにのみ適用されます。

|===
. [ストレージ フットプリントの提供] ページで、ストレージ システムを選択し、1 つ以上のボリューム、LUN、および qtree を選択して、[保存] を選択します。
+
オプション:image:../media/add_policy_from_resourcegroup.gif["プラスアイコン"]アイコンをクリックして、他のストレージ システムからボリューム、LUN、qtree を追加します。

+

NOTE: NetAppがサポートしているプラグインでは、リソースの自動検出はサポートされていません。物理環境と仮想環境のストレージの詳細も自動検出されません。リソースの作成時に、物理環境と仮想環境のストレージの情報を指定する必要があります。

+
image::../media/storage_footprint.png[ストレージフットプリント]

. [Resource Settings]ページで、リソースのカスタムのキーと値のペアを指定します。
+

NOTE: カスタム キー名が大文字であることを確認します。

+
image::../media/resource_settings.gif[リソース設定]

+
それぞれのプラグインパラメータについては、link:add_resources_to_netapp_supported_plugins.html#parameters-to-configure-the-resource["リソースを設定するためのパラメータ"]

. 概要を確認し、[完了] を選択します。


.結果
リソースは、タイプ、ホストまたはクラスタ名、関連するリソース グループとポリシー、全体的なステータスなどの情報とともに表示されます。


IMPORTANT: SnapCenterの外部でデータベースの名前が変更された場合は、リソースを更新する必要があります。

.終了後の操作
アセットへのアクセスを他のユーザに許可する場合は、SnapCenter管理者が対象のユーザにアセットを割り当てる必要があります。これにより、ユーザは、自身に割り当てられたアセットに対して、権限のある処理を実行できるようになります。

リソースを追加したあとで、リソースの詳細を変更できます。NetAppがサポートしているプラグイン リソースにバックアップが関連付けられている場合、リソース名、リソース タイプ、およびホスト名のフィールドを変更することはできません。



== リソースを設定するためのパラメータ

プラグインを手動で追加する場合は、[Resource Settings]ページで次のパラメータを使用してリソースを設定できます。



=== Plug-in for MongoDB

Resource Settings：

* MongoDB_APP_SERVER=（リソース タイプが共有クラスタの場合）またはMongoDB_ReplicaSet_SERVER=（リソース タイプがレプリカセットの場合）
* OPLOG_PATH=（MongoDB.propertiesfileから指定する場合はオプション パラメータ）
* MONGODB_AUTHENTICATION_TYPE=（LDAP認証の場合はPLAIN、それ以外の場合はNone）


MongoDB.propertiesファイルには、次のパラメータを指定する必要があります。

* DISABLE_STARTING_STOPPING_SERVICES=
+
** N：プラグインによってサービスの開始と停止が実行される場合。
** サービスの開始/停止がユーザーによって実行される場合は Y。
** オプション パラメータのデフォルト値はNに設定されています。


* OPLOG_PATH_= ( SnapCenterでカスタムのキーと値のペアとしてすでに提供されている場合のオプションのパラメーター)。




=== Plug-in for MaxDB

Resource Settings：

* XUSER_ENABLE (Y|N)は、データベース ユーザがパスワードを要求されないように、MaxDBでxuserの使用を有効または無効にします。
* HANDLE_LOGWRITER (Y|N)は、ログライターの一時停止（N）またはログライターの再開（Y）の処理を実行します。
* DBMCLICMD (path_to_dbmcli_cmd)は、MaxDB dbmcliコマンドへのパスを指定します。設定されていない場合は、検索パスでdbmcliが使用されます。



NOTE: Windows環境では、パスを二重引用符（"..."）で囲む必要があります。

* SQLCLICMD (path_to_sqlcli_cmd)は、MaxDB sqlcliコマンドへのパスを指定します。パスが設定されていない場合は、検索パスでsqlcliが使用されます。
* MaxDB_UPDATE_HIST_LOG (Y|N)は、MaxDB履歴ログを更新するかどうかを、MaxDBバックアップ プログラムに指示します。
* MAXDB_CHECK_SNAPSHOT_DIR: 例、SID1:directory[,directory...]; [SID2:directoary[,directory...] は、Snap Creator スナップショット コピー操作が成功したことを確認し、スナップショットが作成されたことを確認します。
+
これはNFSにのみ該当します。ディレクトリは、.snapshotディレクトリが格納されている場所を指している必要があります。複数のディレクトリをカンマで区切って指定できます。

+
MaxDB 7.8以降のバージョンでは、データベースのバックアップ要求はバックアップ履歴でFailedとマークされます。

* MAXDB_BACKUP_TEMPLATES: 各データベースのバックアップ テンプレートを指定します。
+
テンプレートが存在し、外部タイプのバックアップ テンプレートである必要があります。MaxDB 7.8以降でSnapshot統合を有効にするには、MaxDBバックグラウンド サーバ機能があり、外部タイプのMaxDBバックアップ テンプレートがすでに設定されている必要があります。

* MAXDB_BG_SERVER_PREFIX: バックグラウンド サーバー名のプレフィックスを指定します。
+
MAXDB_BACKUP_TEMPLATESパラメータが設定されている場合は、MaxDB_BG_SERVER_PREFIXパラメータも設定する必要があります。プレフィックスを設定しない場合は、デフォルト値 na_bg_ が使用されます。





=== SAP ASE 用プラグイン

Resource Settings：

* SYBASE_SERVER（data_server_name）には、Sybaseデータ サーバ名を指定します（isqlコマンドの-Sオプション）。たとえば、p_testのように指定します。
* SYBASE_DATABASES_EXCLUDE（db_name）では、「all」要素を使用するとデータベースを除外できます。
+
複数のデータベースを指定するには、セミコロンで区切ったリストを使用します。例：pubs2;test_db1。

* SYBASE_USER: user_nameには、isqlコマンドを実行できるオペレーティング システム ユーザを指定します。
+
UNIXの場合は必須です。このパラメータは、Snap Creator Agentのstartコマンドとstopコマンドを実行するユーザ（通常はrootユーザ）とisqlコマンドを実行するユーザが異なる場合に必須です。

* SYBASE_TRAN_DUMP db_name:directory_pathは、Snapshotの作成後にSybaseトランザクション ダンプを実行できるようにします。例：pubs2:/sybasedumps/ pubs2
+
トランザクション ダンプが必要な各データベースを指定する必要があります。

* Sybase_Tran_dump_compress (Y|N)は、Sybaseトランザクション ダンプのネイティブ圧縮を有効または無効にします。
* Sybase_ISQL_CMD（例：/opt/Sybase/OCS-15_0/bin/isql）は、isqlコマンドへのパスを定義します。
* SYBASE_EXCLUDE_TEMPDB (Y|N)を使用すると、ユーザが作成した一時データベースを自動的に除外できます。




=== Plug-in for Oracle Applications（ORASCPM）

Resource Settings：

* SQLPLUS_CMDには、SQLplusへのパスを指定します。
* ORACLE_DATABASESは、バックアップするOracleデータベースと対応するユーザ（database:user）を一覧表示します。
* CNTL_FILE_BACKUP_DIRには、制御ファイルのバックアップ先ディレクトリを指定します。
* ORA_TEMPには、一時ファイルのディレクトリを指定します。
* ORACLE_HOMEには、Oracleソフトウェアがインストールされているディレクトリを指定します。
* ARCHIVE_LOG_ONLYには、アーカイブ ログをバックアップするかどうかを指定します。
* ORACLE_BACKUPMODE は、オンライン バックアップを実行するかオフライン バックアップを実行するかを指定します。
* ORACLE_EXPORT_PARAMETERS は、_/bin/su <sqlplus を実行しているユーザー> -c sqlplus /nolog <cmd>_ の実行中に、上記で定義された環境変数を再エクスポートするかどうかを指定します。これは通常、sqlplus を実行しているユーザーが、_connect / as sysdba_ を使用してデータベースに接続するために必要なすべての環境変数を設定していない場合に発生します。

